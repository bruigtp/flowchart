<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Flowchart Customization • flowchart</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Flowchart Customization">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flowchart</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.8.0.9007</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/flowchart.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/combine-flowcharts.html">Combine Flowcharts</a></li>
    <li><a class="dropdown-item" href="../articles/flowchart-customization.html">Customization</a></li>
    <li><a class="dropdown-item" href="../articles/example-gallery.html">Example Gallery</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bruigtp/flowchart/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Flowchart Customization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bruigtp/flowchart/blob/main/vignettes/articles/flowchart-customization.Rmd" class="external-link"><code>vignettes/articles/flowchart-customization.Rmd</code></a></small>
      <div class="d-none name"><code>flowchart-customization.Rmd</code></div>
    </div>

    
    
<p>We can customize the flowchart either with the arguments provided by
each function in the process of creating it, or directly in the final
output using the <code><a href="../reference/fc_theme.html">fc_theme()</a></code> or <code><a href="../reference/fc_modify.html">fc_modify()</a></code>
functions.</p>
<div class="section level2">
<h2 id="change-function-arguments">Change function arguments<a class="anchor" aria-label="anchor" href="#change-function-arguments"></a>
</h2>
<p>There are many different arguments in <code><a href="../reference/as_fc.html">as_fc()</a></code>,
<code><a href="../reference/fc_filter.html">fc_filter()</a></code>, <code><a href="../reference/fc_split.html">fc_split()</a></code>, and
<code><a href="../reference/fc_draw.html">fc_draw()</a></code> that allow you to customize the boxes created at
each step. See the documentation for these functions for more
information. Some examples of how to use these arguments are given at
the end of the vignette: <a href="#customization-examples">Customization
examples</a>.</p>
</div>
<div class="section level2">
<h2 id="functions-to-customize-the-flowchart">Functions to customize the flowchart<a class="anchor" aria-label="anchor" href="#functions-to-customize-the-flowchart"></a>
</h2>
<div class="section level3">
<h3 id="fc_theme">
<code>fc_theme()</code><a class="anchor" aria-label="anchor" href="#fc_theme"></a>
</h3>
<p>We can use <code><a href="../reference/fc_theme.html">fc_theme()</a></code> to set all parameters for all
boxes in a flowchart at once. This is useful if we want to apply the
same style to all the boxes. For example, let’s customize the following
flowchart:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Randomized patients"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>Let’s change the style of all the boxes:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Randomized patients"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_theme.html">fc_theme</a></span><span class="op">(</span>text_pattern_init <span class="op">=</span> <span class="st">"{label}, {n}"</span>, text_pattern <span class="op">=</span> <span class="st">"{label}, {n}/{N}"</span>, text_fs <span class="op">=</span> <span class="fl">11</span>, text_color <span class="op">=</span> <span class="st">"#324C54"</span>, text_fface <span class="op">=</span> <span class="fl">2</span>, bg_fill <span class="op">=</span> <span class="st">"#ADD8E6"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="fc_modify">
<code>fc_modify()</code><a class="anchor" aria-label="anchor" href="#fc_modify"></a>
</h3>
<p>The function <code>fc_modify</code> allows the user to customise the
created flowchart by modifying its parameters, which are stored in
<code>.$fc</code>.</p>
<p>For example, let’s customize the following flowchart:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo_fc</span> <span class="op">&lt;-</span> <span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">safo_fc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
<p>Previous to modifying it, we can use the function fc_view() to
inspect the element $fc that we want to change:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo_fc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_view.html">fc_view</a></span><span class="op">(</span><span class="st">"fc"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 22</span></span></span>
<span><span class="co">##      id     x     y     n     N perc  label text_pattern text  type  group just </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>     1  0.5  0.667   925   925 100   Pati… <span style="color: #949494;">"</span>{label}\n{… <span style="color: #949494;">"</span>Pat… init  <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>     2  0.5  0.333   215   925 23.24 Rand… <span style="color: #949494;">"</span>{label}\n … <span style="color: #949494;">"</span>Ran… filt… <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>     3  0.65 0.5     710   925 76.76 Excl… <span style="color: #949494;">"</span>{label}\n … <span style="color: #949494;">"</span>Exc… excl… <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 10 more variables: text_color &lt;chr&gt;, text_fs &lt;dbl&gt;, text_fface &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   text_ffamily &lt;lgl&gt;, text_padding &lt;dbl&gt;, bg_fill &lt;chr&gt;, border_color &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   width &lt;lgl&gt;, height &lt;lgl&gt;, end &lt;lgl&gt;</span></span></span></code></pre>
<p>Let’s customise the text in the exclusion box (id = 3) to specify
different reasons for exclusion, and change the x and y coordinate:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo_fc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_modify.html">fc_modify</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">.</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu">mutate</span><span class="op">(</span></span>
<span>        text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">id</span> <span class="op">==</span> <span class="fl">3</span>, <span class="fu">str_glue</span><span class="op">(</span><span class="st">"- {sum(safo$inclusion_crit == 'Yes')} not met the inclusion criteria\n- {sum(safo$exclusion_crit == 'Yes')} met the exclusion criteria"</span><span class="op">)</span>, <span class="va">text</span><span class="op">)</span>,</span>
<span>        x <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">0.75</span>,</span>
<span>          <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">x</span></span>
<span>        <span class="op">)</span>,</span>
<span>        y <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fl">0.8</span>,</span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="fl">0.2</span>,</span>
<span>          <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">y</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="customization-examples">Customization examples<a class="anchor" aria-label="anchor" href="#customization-examples"></a>
</h2>
<p>In these examples, we will explore some of the arguments to customize
the following flowchart:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
<div class="section level3">
<h3 id="change-the-flowchart-appearance">Change the flowchart appearance<a class="anchor" aria-label="anchor" href="#change-the-flowchart-appearance"></a>
</h3>
<p>You can set the background color of each box using
<code>bg_fill=</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span>, width <span class="op">=</span> <span class="fl">0.6</span>, text_fs <span class="op">=</span> <span class="fl">10</span>, text_fface <span class="op">=</span> <span class="fl">2</span>, text_ffamily <span class="op">=</span> <span class="st">"serif"</span>, text_padding <span class="op">=</span> <span class="fl">2</span>, bg_fill <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, text_color <span class="op">=</span> <span class="st">"white"</span>, bg_fill <span class="op">=</span> <span class="st">"darkgreen"</span>, text_color_exc <span class="op">=</span> <span class="st">"white"</span>, bg_fill_exc <span class="op">=</span> <span class="st">"firebrick"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, bg_fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"darkblue"</span>, <span class="st">"purple"</span><span class="op">)</span>, text_color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_modify.html">fc_modify</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">.</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu">mutate</span><span class="op">(</span></span>
<span>        y <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">type</span> <span class="op">==</span> <span class="st">"init"</span> <span class="op">~</span> <span class="fl">0.8</span>,</span>
<span>          .default <span class="op">=</span> <span class="va">y</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
<p>You can also alter the background of the canvas behind the flowchart
boxes using the <code>bg_canvas=</code> argument in
<code>fc_draw</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span>, width <span class="op">=</span> <span class="fl">0.6</span>, text_fs <span class="op">=</span> <span class="fl">10</span>, text_fface <span class="op">=</span> <span class="fl">2</span>, text_ffamily <span class="op">=</span> <span class="st">"serif"</span>, text_padding <span class="op">=</span> <span class="fl">2</span>, bg_fill <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, text_color <span class="op">=</span> <span class="st">"white"</span>, bg_fill <span class="op">=</span> <span class="st">"darkgreen"</span>, text_color_exc <span class="op">=</span> <span class="st">"white"</span>, bg_fill_exc <span class="op">=</span> <span class="st">"firebrick"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, bg_fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"darkblue"</span>, <span class="st">"purple"</span><span class="op">)</span>, text_color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_modify.html">fc_modify</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">.</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu">mutate</span><span class="op">(</span></span>
<span>        y <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">type</span> <span class="op">==</span> <span class="st">"init"</span> <span class="op">~</span> <span class="fl">0.8</span>,</span>
<span>          .default <span class="op">=</span> <span class="va">y</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span>canvas_bg <span class="op">=</span> <span class="st">"darkgrey"</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="add-a-title-to-the-flowchart">Add a title to the flowchart<a class="anchor" aria-label="anchor" href="#add-a-title-to-the-flowchart"></a>
</h3>
<p>We can add a title to the flowchart using the argument
<code>title=</code> in the <code><a href="../reference/fc_draw.html">fc_draw()</a></code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"SAFO flowchart"</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-10-1.png" width="576"></p>
<div class="section level4">
<h4 id="add-a-title-to-the-split">Add a title to the split<a class="anchor" aria-label="anchor" href="#add-a-title-to-the-split"></a>
</h4>
<p>We can also add a title to a split in the flowchart, using the
argument <code>title</code> in the <code><a href="../reference/fc_split.html">fc_split()</a></code> function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="st">"Treatment"</span>, bg_fill_title <span class="op">=</span> <span class="st">"skyblue"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-11-1.png" width="576"></p>
</div>
<div class="section level4">
<h4 id="percentage-with-respect-to-the-total-rows">Percentage with respect to the total rows<a class="anchor" aria-label="anchor" href="#percentage-with-respect-to-the-total-rows"></a>
</h4>
<p>We can change the calculation of all percentages in a
<code>flowchart.</code> By default, percentages are calculated with
respect to the box in the previous level. With the argument
<code>perc_total=</code> we can change it, to calculate it with respect
to the initial box with the total number of rows:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-12-1.png" width="576"></p>
</div>
<div class="section level4">
<h4 id="offset">Offset<a class="anchor" aria-label="anchor" href="#offset"></a>
</h4>
<p>We can add/remove space to the distance between boxes in a split
using the argument <code>offset</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, offset <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-13-1.png" width="576"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, perc_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span>, offset <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-13-2.png" width="576"></p>
<p>We can also add/remove space to the distance between the excluded box
in a filter using the argument <code>offset_exc</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span>, offset_exc <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-14-1.png" width="576"></p>
</div>
</div>
<div class="section level3">
<h3 id="change-box-corner-style">Change Box Corner Style<a class="anchor" aria-label="anchor" href="#change-box-corner-style"></a>
</h3>
<p>We can change the corner style of the flowchart boxes using the
<code>box_corners</code> argument with <code>fc_draw</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span>box_corners <span class="op">=</span> <span class="st">"sharp"</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-15-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="use-expressions">Use expressions<a class="anchor" aria-label="anchor" href="#use-expressions"></a>
</h3>
<p>We can use expressions in the label or the text pattern of each box.
Expressions allow you to use bold or italic text without having to
change the font of all the box text.</p>
<p>For example, let’s put and expression in the label:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Patients "</span>, <span class="fu">italic</span><span class="op">(</span><span class="st">"assessed"</span><span class="op">)</span>, <span class="st">" for "</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"eligibility"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p>Now, let’s use it also in the text pattern of the box:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Patients "</span>, <span class="fu">italic</span><span class="op">(</span><span class="st">"assessed"</span><span class="op">)</span>, <span class="st">" for "</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"eligibility"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, text_pattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"{label}"</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"{n}"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span>filter <span class="op">=</span> <span class="va">chronic_heart_failure</span> <span class="op">==</span> <span class="st">"No"</span>,</span>
<span>            label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">italic</span><span class="op">(</span><span class="st">"No chronic"</span><span class="op">)</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">" heart failure"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            label_exc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">bold</span><span class="op">(</span><span class="st">"Chronic"</span><span class="op">)</span>, <span class="st">" heart failure"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            text_pattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"{label}"</span>, <span class="va">N</span>, <span class="st">" = "</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"{n}"</span><span class="op">)</span>, <span class="st">"/{N}: "</span>, <span class="fu">italic</span><span class="op">(</span><span class="st">"{perc}"</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            text_pattern_exc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"{label}"</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"{n}"</span><span class="op">)</span>, <span class="st">"({perc})%"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>Expressions even allow the use of formulas. For example:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">500</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">y</span>, <span class="st">" = "</span>, <span class="va">alpha</span>, <span class="st">" + "</span>, <span class="va">beta</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span>, text_pattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"{label}"</span>, <span class="fu">bold</span><span class="op">(</span><span class="st">"{n}"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="split-in-one-group">Split in one group<a class="anchor" aria-label="anchor" href="#split-in-one-group"></a>
</h3>
<p>We can perform an additional split only in one of the groups using
the argument <code>sel_group=</code>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">60</span><span class="op">)</span>, sel_group <span class="op">=</span> <span class="st">"cloxacillin alone"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `object$data` has been grouped by a new variable called `split1_sel_group`,</span></span>
<span><span class="co">## because `sel_group` has been used in the split.</span></span></code></pre>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-19-1.png" width="576"></p>
<p>Then, we could also perform a filter in the other group:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">60</span><span class="op">)</span>, sel_group <span class="op">=</span> <span class="st">"cloxacillin alone"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">50</span>, sel_group <span class="op">=</span> <span class="st">"cloxacillin plus fosfomycin"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `object$data` has been grouped by a new variable called `split1_sel_group`,</span></span>
<span><span class="co">## because `sel_group` has been used in the split.</span></span></code></pre>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-20-1.png" width="576"></p>
<p>If we want to select a group in a flowchart with more than two groups
we have to supply a vector in <code>sel_group=</code> with the desired
groups to be selected:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_split.html">fc_split</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">55</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_filter.html">fc_filter</a></span><span class="op">(</span>N <span class="op">=</span> <span class="fl">60</span>, sel_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cloxacillin alone"</span>, <span class="st">"group 2"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-21-1.png" width="576"></p>
<p>Previous to modifying it, we can use the function
<code><a href="../reference/fc_view.html">fc_view()</a></code> to inspect the element <code>$fc</code> that we
want to change:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo_fc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_view.html">fc_view</a></span><span class="op">(</span><span class="st">"fc"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 22</span></span></span>
<span><span class="co">##      id     x     y     n     N perc  label text_pattern text  type  group just </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>     1  0.5  0.667   925   925 100   Pati… <span style="color: #949494;">"</span>{label}\n{… <span style="color: #949494;">"</span>Pat… init  <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>     2  0.5  0.333   215   925 23.24 Rand… <span style="color: #949494;">"</span>{label}\n … <span style="color: #949494;">"</span>Ran… filt… <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>     3  0.65 0.5     710   925 76.76 Excl… <span style="color: #949494;">"</span>{label}\n … <span style="color: #949494;">"</span>Exc… excl… <span style="color: #BB0000;">NA</span>    cent…</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 10 more variables: text_color &lt;chr&gt;, text_fs &lt;dbl&gt;, text_fface &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   text_ffamily &lt;lgl&gt;, text_padding &lt;dbl&gt;, bg_fill &lt;chr&gt;, border_color &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   width &lt;lgl&gt;, height &lt;lgl&gt;, end &lt;lgl&gt;</span></span></span></code></pre>
<p>Let’s customise the text in the exclusion box (<code>id = 3</code>)
to specify different reasons for exclusion, and change the <em>x</em>
and <em>y</em> coordinate:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">safo_fc</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_modify.html">fc_modify</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">.</span> <span class="op">|&gt;</span> </span>
<span>      <span class="fu">mutate</span><span class="op">(</span></span>
<span>        text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">id</span> <span class="op">==</span> <span class="fl">3</span>, <span class="fu">str_glue</span><span class="op">(</span><span class="st">"- {sum(safo$inclusion_crit == 'Yes')} not met the inclusion criteria\n- {sum(safo$exclusion_crit == 'Yes')} met the exclusion criteria"</span><span class="op">)</span>, <span class="va">text</span><span class="op">)</span>,</span>
<span>        x <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">0.75</span>,</span>
<span>          <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">x</span></span>
<span>        <span class="op">)</span>,</span>
<span>        y <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fl">0.8</span>,</span>
<span>          <span class="va">id</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="fl">0.2</span>,</span>
<span>          <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">y</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="flowchart-customization_files/figure-html/unnamed-chunk-23-1.png" width="672"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pau Satorra, João Carmezim, Natàlia Pallarès, Cristian Tebé, Kenneth Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
