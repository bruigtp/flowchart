<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>fc_filter — fc_filter • flowchart</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="fc_filter — fc_filter"><meta name="description" content="This function allows to filter the flowchart in function of a expression that returns a logic value that are defined in terms of the variables in the database. It will generate one box per group showing the number of rows of the group that matches the condition, and will retain only those rows in the data base."><meta property="og:description" content="This function allows to filter the flowchart in function of a expression that returns a logic value that are defined in terms of the variables in the database. It will generate one box per group showing the number of rows of the group that matches the condition, and will retain only those rows in the data base."><meta property="og:image" content="https://bruigtp.github.io/flowchart/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flowchart</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/flowchart.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bruigtp/flowchart/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>fc_filter</h1>
      <small class="dont-index">Source: <a href="https://github.com/bruigtp/flowchart/blob/main/R/fc_filter.R" class="external-link"><code>R/fc_filter.R</code></a></small>
      <div class="d-none name"><code>fc_filter.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows to filter the flowchart in function of a expression that returns a logic value that are defined in terms of the variables in the database. It will generate one box per group showing the number of rows of the group that matches the condition, and will retain only those rows in the data base.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fc_filter</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  N <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  text_pattern <span class="op">=</span> <span class="st">"{label}\n {n} ({perc}%)"</span>,</span>
<span>  show_exc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  direction_exc <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>  label_exc <span class="op">=</span> <span class="st">"Excluded"</span>,</span>
<span>  text_pattern_exc <span class="op">=</span> <span class="st">"{label}\n {n} ({perc}%)"</span>,</span>
<span>  sel_group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  round_digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  just <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>  text_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  text_fs <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  text_fface <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  text_ffamily <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  bg_fill <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  border_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  just_exc <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>  text_color_exc <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  text_fs_exc <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  text_fface_exc <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  text_ffamily_exc <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  bg_fill_exc <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  border_color_exc <span class="op">=</span> <span class="st">"black"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>fc object that we want to filter.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>Expression that returns a logical value and are defined in terms of the variables in the data frame. The data base will be filtered by this expression, and it will create a box showing the number of rows satisfying this condition.</p></dd>


<dt id="arg-n">N<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Number of rows after the filter in case `filter` is NULL.</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>Character that will be the title of the box. By default it will be the evaluated condition.</p></dd>


<dt id="arg-text-pattern">text_pattern<a class="anchor" aria-label="anchor" href="#arg-text-pattern"></a></dt>
<dd><p>Structure that will have the text in each of the boxes. It recognizes label, n, N and perc within brackets. For default it is "{label}\n {n} ({perc}%)".</p></dd>


<dt id="arg-show-exc">show_exc<a class="anchor" aria-label="anchor" href="#arg-show-exc"></a></dt>
<dd><p>Logical value. If TRUE a box showing the number of excluded rows will be added to the flow chart.</p></dd>


<dt id="arg-direction-exc">direction_exc<a class="anchor" aria-label="anchor" href="#arg-direction-exc"></a></dt>
<dd><p>One of "left" or "right" indicating if the exclusion box goes into the left direction or in the right direction. By default is "right".</p></dd>


<dt id="arg-label-exc">label_exc<a class="anchor" aria-label="anchor" href="#arg-label-exc"></a></dt>
<dd><p>Character that will be the title of the added box showing the excluded patients. By default it will show "Excluded".</p></dd>


<dt id="arg-text-pattern-exc">text_pattern_exc<a class="anchor" aria-label="anchor" href="#arg-text-pattern-exc"></a></dt>
<dd><p>Structure that will have the text in each of the excluded boxes. It recognizes label, n, N and perc within brackets. For default it is "{label}\n {n} ({perc}%)".</p></dd>


<dt id="arg-sel-group">sel_group<a class="anchor" aria-label="anchor" href="#arg-sel-group"></a></dt>
<dd><p>Specify if the filtering has to be done only by one of the previous groups. By default is NULL.</p></dd>


<dt id="arg-round-digits">round_digits<a class="anchor" aria-label="anchor" href="#arg-round-digits"></a></dt>
<dd><p>Number of digits to round percentages. It is 2 by default.</p></dd>


<dt id="arg-just">just<a class="anchor" aria-label="anchor" href="#arg-just"></a></dt>
<dd><p>Justification for the text: left, center or right. Default is center.</p></dd>


<dt id="arg-text-color">text_color<a class="anchor" aria-label="anchor" href="#arg-text-color"></a></dt>
<dd><p>Color of the text. It is black by default. See the `col` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-text-fs">text_fs<a class="anchor" aria-label="anchor" href="#arg-text-fs"></a></dt>
<dd><p>Font size of the text. It is 8 by default. See the `fontsize` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-text-fface">text_fface<a class="anchor" aria-label="anchor" href="#arg-text-fface"></a></dt>
<dd><p>Font face of the text. It is 1 by default. See the `fontface` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-text-ffamily">text_ffamily<a class="anchor" aria-label="anchor" href="#arg-text-ffamily"></a></dt>
<dd><p>Changes the font family of the text. Default is NA. See the `fontfamily` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-bg-fill">bg_fill<a class="anchor" aria-label="anchor" href="#arg-bg-fill"></a></dt>
<dd><p>Box background color. It is white by default. See the `fill` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-border-color">border_color<a class="anchor" aria-label="anchor" href="#arg-border-color"></a></dt>
<dd><p>Box border color. It is black by default. See the `col` parameter for <code>gpar</code>.</p></dd>


<dt id="arg-just-exc">just_exc<a class="anchor" aria-label="anchor" href="#arg-just-exc"></a></dt>
<dd><p>Justification for the text of the exclude box: left, center or right. Default is center.</p></dd>


<dt id="arg-text-color-exc">text_color_exc<a class="anchor" aria-label="anchor" href="#arg-text-color-exc"></a></dt>
<dd><p>Color of the text of the exclude box. It is black by default. See `text_color`.</p></dd>


<dt id="arg-text-fs-exc">text_fs_exc<a class="anchor" aria-label="anchor" href="#arg-text-fs-exc"></a></dt>
<dd><p>Font size of the text of the exclude box. It is 6 by default. See `text_fs`.</p></dd>


<dt id="arg-text-fface-exc">text_fface_exc<a class="anchor" aria-label="anchor" href="#arg-text-fface-exc"></a></dt>
<dd><p>Font face of the text of the exclude box. It is 1 by default. See the `fontface` parameter for <code>gpar</code>. See `text_fface`.</p></dd>


<dt id="arg-text-ffamily-exc">text_ffamily_exc<a class="anchor" aria-label="anchor" href="#arg-text-ffamily-exc"></a></dt>
<dd><p>Changes the font family of the text of the exclude box. Default is NA. See the `fontfamily` parameter for <code>gpar</code>. See `text_ffamily`.</p></dd>


<dt id="arg-bg-fill-exc">bg_fill_exc<a class="anchor" aria-label="anchor" href="#arg-bg-fill-exc"></a></dt>
<dd><p>Exclude box background color. It is white by default. See `bg_fill`.</p></dd>


<dt id="arg-border-color-exc">border_color_exc<a class="anchor" aria-label="anchor" href="#arg-border-color-exc"></a></dt>
<dd><p>Box background color of the exclude box. It is black by default. See `border_color`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List with the filtered dataset and the flowchart parameters with the resulting filtered box.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">safo</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="as_fc.html">as_fc</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Patients assessed for eligibility"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">fc_filter</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Randomized"</span>, show_exc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fc_draw.html">fc_draw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fc_filter-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pau Satorra, João Carmezim, Natàlia Pallarès, Cristian Tebé.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

